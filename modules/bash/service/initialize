#!/usr/local/bin bash

modules system

variable_is_nonempty init_scripts_path || init_scripts_path="$(init_scripts_path)"
variable_is_nonempty confd_path        || confd_path="$(confd_path)"

: \
  "${service:="${extension}"}" \
  "${service_user:="${service}"}" \
  "${prefix_path:="/usr/local/${service}/active"}" \
  "${service_binary:="${prefix_path}/bin/${service}"}" \
  "${service_bin_path:="${install_path}/bin"}" \
  "${service_pid_path:="/var/run/${service}"}" \
  "${service_config_path:="/etc/${service}"}" \
  "${service_db_path:="/var/db/${service}/active"}" \
  "${service_data_path:="/var/db/${service}/active/data"}" \
  "${service_log_path:="/var/log/${service}"}" \
  "${service_lock_path:="/var/lock/${service}"}" \
  "${service_src_path:="${source_path}/${package}-${version}"}" \
  "${service_config_file:="${service_config_path}/${service}.conf"}" \
  "${service_log_file:="${service_log_path}/${service}.log"}" \
  "${service_pid_file:="${service_pid_path}/${service}.pid"}" \
  "${service_db_file:="${service_db_path}/dump.rdb"}" \
  "${service_lock_file:="${service_lock_path}/${service}.lock"}"

service_paths=(
  "${service_bin_path}"
  "${service_config_path}"
  "${service_pid_path}"
  "${service_db_path}"
  "${service_lock_path}"
  "${service_log_path}"
)

