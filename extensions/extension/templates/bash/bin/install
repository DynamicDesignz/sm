#!/usr/bin/env bash

# TODO: refactor the argument processing.
while [[ $# -gt 0 ]] ; do

  token="$1" ; shift

  case "$token" in
    --trace)
      set -o xtrace
      ;;
    --version)
      version="$1"
      shift
      ;;
    --url)
      package_url="$1"
      shift
      ;;
    *)
      fail "Unknown command line argument for bdsm ${extension}: '$token'"
      ;;
  esac
done

# Functions exist in the extension directory modules/bash/functions file.

download_${extension}

extract_${extension}

build_${extension}

install_${extension}

setup_${extension}_user

create_${extension}_directories

install_init_script

install_${extension}_conf

succeed "Installation Complete."
