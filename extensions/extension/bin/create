#!/usr/bin/env bash

[[ -n "$extensions" ]] || fail "At least one extension name must be specified."

for extension in ${extensions//,/ } ; do

  if [[ ! -d "$extensions_path/extension" ]] ; then

    if [[ -d "${extensions_path}/extension/templates/${language}" ]] ; then
      cp -Rf \
        "$extensions_path/extension/templates/${language}" \
        "$extensions_path/$extension/"

      succeed "Extension created from template at ${extensions_path}/${extension}/"
    else
      fail "Extension template files for are missing from $extensions_path/extension/templates/${language}."
    fi
  else
    fail "Extension '$extension' already exists at ${extensions_path}/${extension}."
  fi

done

succeed "Removed extensions ${extensions}"
