#!/usr/bin/env bash

#
# This file contains the modules function that allows loading of BDSM framework
# DSL components.
#

shopt -s extglob # Extended globs must always be on for BDSM.

modules()
{
  local _module _bdsm _extension _path

  for _module in "$@" ; do
    _bdsm="${scripts_path}/bash/${_module}"
    _extension="${extension_scripts_path}/bash/${_module}"

    for _path in "${_bdsm}" "${_extension}" ; do
      for file in "functions" "initialize" ; do
        if [[ -s "${_path}/${_file}" ]] ; then
          source "${_path}/${_file}"
        fi
      done
    done
  done
}

# Modules that should be available to *all* bdsm extensions.
modules trace logging variables

