#!/usr/bin/env bash

if [[ "$trace_flag" -eq 2 ]] ; then set -x ; export trace_flag ; fi

if [[ ! -z "$2" ]] ; then level=$1 ; shift ; else level="info" ; fi

message=$1

case "$level" in
  debug) shift ; printf "\nd: $message "     ;;
  info)  shift ; printf "\n$message "        ;;
  warn)  shift ; printf "\nw: $message "     ;;
  error) shift ; printf "\ne: $message " >&2 ;;
  fail)  shift ; printf "\nf: $message " >&2 ;;
  *) printf "\n$message"
esac

exit 0
